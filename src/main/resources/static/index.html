<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Receipt Master | ë©”ì¸</title>
    <style>
        :root { --kakao-color: #FEE500; --google-color: #4285F4; }
        body { font-family: sans-serif; display: flex; align-items: center; justify-content: center; min-height: 100vh; margin: 0; background-color: #f4f7f6; }
        .container { background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center; max-width: 400px; width: 90%; }
        .btn { display: block; padding: 12px; margin: 10px 0; border-radius: 8px; text-decoration: none; font-weight: bold; transition: 0.3s; border: none; font-size: 0.95rem; }
        .btn-google { background: var(--google-color); color: white; }
        .btn-kakao { background: var(--kakao-color); color: #3c1e1e; }
        .btn-signup { background: #4CAF50; color: white; } /* ì¼ë°˜ íšŒì›ê°€ì… ë²„íŠ¼ */
        .hidden { display: none; }
        #loading-section { color: #666; font-style: italic; }
    </style>
</head>
<body>
<div class="container">
    <h1>ğŸ§¾ Receipt Master</h1>

    <div id="intro-section">
        <p><strong>ì˜ìˆ˜ì¦ ê´€ë¦¬ì˜ ì‹œì‘</strong></p>
        <p style="font-size: 0.85rem; color: #888; margin-bottom: 25px;">ê°„í¸í•œ ì†Œì…œ ë¡œê·¸ì¸ ë˜ëŠ” ì¼ë°˜ íšŒì›ê°€ì…ì„ ì„ íƒí•˜ì„¸ìš”.</p>

        <a href="/oauth2/authorization/google" class="btn btn-google">Googleë¡œ ì‹œì‘í•˜ê¸°</a>

        <a href="/oauth2/authorization/kakao" class="btn btn-kakao">Kakaoë¡œ ì‹œì‘í•˜ê¸°</a>

        <div style="margin: 20px 0; color: #ddd; font-size: 0.8rem;">OR</div>

        <a href="/signup.html" class="btn btn-signup">ì´ë©”ì¼ë¡œ íšŒì›ê°€ì…</a>

        <p style="margin-top: 15px; font-size: 0.8rem;">
            ì´ë¯¸ ê³„ì •ì´ ìˆë‚˜ìš”? <a href="/signin.html" style="color: #666;">ë¡œê·¸ì¸</a>
        </p>
    </div>

    <div id="loading-section" class="hidden">
        <p>ğŸ” ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í™•ì¸ ì¤‘...</p>
    </div>
</div>

<script>
    window.onload = () => {
        const token = localStorage.getItem('accessToken');

        // ì´ë¯¸ ë¡œê·¸ì¸ ëœ ìƒíƒœë¼ë©´ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì²´í¬ ë¡œì§ ê°€ë™
        if (token) {
            document.getElementById('intro-section').classList.add('hidden');
            document.getElementById('loading-section').classList.remove('hidden');

            // 1.5ì´ˆ í›„ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ìœ ë¬´ì— ë”°ë¼ ë¦¬ë‹¤ì´ë ‰íŠ¸ (ì‹œë®¬ë ˆì´ì…˜)
            setTimeout(() => {
                const workspaceCount = 0; // 0ì´ë©´ joinìœ¼ë¡œ, 1ì´ìƒì´ë©´ ì§„ì…
                if (workspaceCount === 0) location.href = "/workspaces/join";
                else location.href = "/workspaces/main";
            }, 1500);
        }
    };
</script>
</body>
</html>